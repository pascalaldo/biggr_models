{% import "general_macros.html" as general %}
{% macro item_card(icon_id, alt_text, accent=False) %}
<div class="card mb-3{% if accent %} bg-body-tertiary{% endif %}">
	<div class="row g-0">
		<div class="col-3">
			<img src="/static/assets/iconset.svg#{{icon_id}}" class="img-fluid p-0 w-100 h-100"
				alt="{{alt_text}}">
		</div>
		<div class="col-9">
			{{ caller() }}
		</div>
	</div>
</div>
{% endmacro %}

{% macro item_and_reference(icon_id, alt_text, reference_include, references, linkouts_include="", linkouts=None,
accent=True) %}
<div class="card mb-3{% if accent %} bg-body-tertiary{% endif %}">
	<div class="row g-0">
		<div class="col-12{% if linkouts %} col-lg-8{% endif %}">
			<div class="row g-0">
				<div class="col-2">
					<img src="/static/assets/iconset.svg#{{icon_id}}"
						class="img-fluid p-0 w-100 h-100" alt="{{alt_text}}">
				</div>
				<div class="col-10">
					{{ caller() }}
				</div>
			</div>
			{% if references %}
			<div class="row g-0">
				<div class="col-2">
					{% if references %}
					{% if references is iterable and (references is not string and references is not
					mapping) and references[0] %}
					<img src="/static/assets/iconset.svg#reference_L"
						class="img-fluid p-0 w-100 h-100" alt="Reference">
					{% endif %}
					{% endif %}
				</div>
				<div class="col-10">
					{% if references is iterable and (references is not string and references is not
					mapping) %}
					{% for reference in references %}
					{% include reference_include %}
					{% endfor %}
					{% else %}
					{% set reference = references %}
					{% include reference_include %}
					{% endif %}
				</div>
			</div>
			{% endif %}
		</div>
		{% if linkouts %}
		<div class="col-12 col-lg-4">
			{% include linkouts_include %}
		</div>
		{% endif %}
	</div>
</div>
{% endmacro %}
{% macro flush_list_group_item(label=none, value=none, link=none, unit=none, accent=False, align=0) %}
<li class="list-group-item{% if accent %} bg-body-tertiary{% endif %}">
	{%- if align > 0 -%}<div class="row g-0">
		<div class="col-{{align}}">{%- endif -%}
			{% if label is not none %}<i class="text-secondary">{{ label }}:</i> {% endif %}{% if
			align > 0 %}
		</div>
		<div class="col-{{ 12 - align }}">{% endif %}{% if value is not none %}<span
				style="word-break: break-all;">{% if
				link is not none %}{% if
				link.startswith("http")
				%}{{ general.external_link(value, link) }}{% else %}<a href="{{link}}"
					class="stretched-link">{{value}}</a>{% endif %}{% else %}{{value}}{%
				endif%}{% endif %}</span>{% if unit is not none %} <span
				class="d-inline-block float-end small text-light-emphasis">({{unit}})</span>{%
			endif %}
			{% if align > 0 %}</div>
	</div>{% endif %}
</li>
{% endmacro %}
{% macro flush_list_group_category(label, accent=False) %}
<li class="list-group-item{% if not accent %} bg-body-tertiary{% endif %}">
	<strong>{{ label }}</strong>
</li>
{% endmacro %}

{% macro flush_list_group(items=[], accent=False, align=0, flush=True) %}
<ul class="list-group{% if flush %} list-group-flush{% endif %} rounded-3{% if accent %} bg-body-tertiary{% endif %}">
	{% for item in items %}
	{{ flush_list_group_item(item.label, item.value, item.link, accent=accent, align=align) }}
	{% endfor %}
	{% if caller %}{{ caller() }}{% endif %}
</ul>
{% endmacro %}

{% macro entity_card(title, icon) %}
  <div class="col-md-6 mb-3">
    <div class="card h-100">
     <div class="ps-4 pe-4 pt-1 pb-1 fw-semibold fs-5 border-bottom border-1 border-secondary-subtle">{% if title %}{{title}}{% else %}{{ caller(true) }}{% endif %}</div>
      <div class="d-flex w-100 h-100 flex-row">
        <div class="d-flex flex-column justify-content-center">
	  <img class="img-fluid rounded-start" style="width: 6rem;" src="/static/assets/iconset.svg#{{icon}}">
        </div>
        <div class="flex-grow-1 border-start border-1 border-secondary-subtle h-100">
          {{ caller(false) }}
        </div>
      </div>
    </div>
  </div>
{% endmacro %}


